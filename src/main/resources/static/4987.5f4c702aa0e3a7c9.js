"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(P,g,i)=>{i.r(g),i.d(g,{LoginPageModule:()=>y});var d=i(6895),t=i(4719),e=i(7479),c=i(7941),m=i(5861),o=i(6738);const p=function(){return["/register"]},f=function(){return["/lost-password"]},Z=[{path:"",component:(()=>{class n{constructor(r,a,s){this.formBuilder=r,this.alertController=a,this.navController=s,this.formularioLogin=this.formBuilder.group({nombre:new t.NI("",t.kI.required),email:new t.NI("",t.kI.required),password:new t.NI("",t.kI.required)})}ngOnInit(){}ingresar(){var r=this;return(0,m.Z)(function*(){if(r.formularioLogin.invalid)yield(yield r.alertController.create({header:"Datos incompletos",message:"Tienes que llenar todos los campos",buttons:["Aceptar"]})).present();else{var a=r.formularioLogin.value,s={username:a.nombre,email:a.email,password:a.password};let u=yield(yield fetch("http://localhost:8888/api/register",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).json();if("NC-PC"==u)localStorage.setItem("ingresado","true"),r.navController.navigateRoot("home");else{if("NC-PI"==u)return void(yield(yield r.alertController.create({header:"Datos incorrectos",message:"La contrase\xf1a es incorrecta",buttons:["Aceptar"]})).present());if("NI"==u)return void(yield(yield r.alertController.create({header:"Datos incorrectos",message:"Nombre de usuario incorrecto",buttons:["Aceptar"]})).present())}}})()}}return n.\u0275fac=function(r){return new(r||n)(o.Y36(t.qu),o.Y36(e.Br),o.Y36(e.SH))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:56,vars:5,consts:[["color","primary"],[1,"xx-large"],["color","light","slot","start","name","cart-outline",1,"xx-large"],["color","light",1,"large"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-lg","4"],["color","grey"],["size","auto",1,"xx-large"],[3,"formGroup"],["fill","outline"],["position","floating"],["formControlName","nombre","type","text"],["formControlName","email","type","email"],["formControlName","password","type","password"],["expand","block",3,"click"],["name","log-in-outline","slot","start"],[1,"horizontalLine"],[1,"ion-justify-content-center","ion-text-center"],["size","auto"],["color","primary",1,"pointer",3,"routerLink"]],template:function(r,a){1&r&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title")(3,"ion-breadcrumb",1),o._UZ(4,"ion-icon",2),o.TgZ(5,"ion-label",3),o._uU(6,"Punto de Venta"),o.qZA()()()()(),o.TgZ(7,"ion-content")(8,"ion-grid")(9,"ion-row",4)(10,"ion-col",5)(11,"ion-card",6)(12,"form")(13,"ion-card-header")(14,"ion-row",4)(15,"ion-col",7)(16,"ion-card-title",1),o._uU(17,"Iniciar Sesion"),o.qZA()()()(),o.TgZ(18,"ion-card-content")(19,"form",8)(20,"ion-row")(21,"ion-col")(22,"ion-item",9)(23,"ion-label",10),o._uU(24,"Nombre de usuario"),o.qZA(),o._UZ(25,"ion-input",11),o.qZA()()(),o.TgZ(26,"ion-row")(27,"ion-col")(28,"ion-item",9)(29,"ion-label",10),o._uU(30,"Email"),o.qZA(),o._UZ(31,"ion-input",12),o.qZA()()(),o.TgZ(32,"ion-row")(33,"ion-col")(34,"ion-item",9)(35,"ion-label",10),o._uU(36,"Contrase\xf1a"),o.qZA(),o._UZ(37,"ion-input",13),o.qZA()()(),o.TgZ(38,"ion-row"),o._UZ(39,"ion-col"),o.qZA(),o.TgZ(40,"ion-row")(41,"ion-col")(42,"ion-button",14),o.NdJ("click",function(){return a.ingresar()}),o._UZ(43,"ion-icon",15),o._uU(44,"Iniciar sesion"),o.qZA()()(),o.TgZ(45,"ion-row")(46,"ion-col"),o._UZ(47,"hr")(48,"div",16),o.qZA()(),o.TgZ(49,"ion-row",17)(50,"ion-col",18)(51,"ion-label",19),o._uU(52,"\xbfAun no tienes cuenta?"),o.qZA(),o._UZ(53,"br"),o.TgZ(54,"ion-label",19),o._uU(55,"\xbfHas olvidado tu contrase\xf1a?"),o.qZA()()()()()()()()()()()),2&r&&(o.xp6(19),o.Q6J("formGroup",a.formularioLogin),o.xp6(32),o.Q6J("routerLink",o.DdM(3,p)),o.xp6(3),o.Q6J("routerLink",o.DdM(4,f)))},dependencies:[t._Y,t.JJ,t.JL,t.F,t.sg,t.u,e.fn,e.YG,e.PM,e.FN,e.Zi,e.Dq,e.wI,e.W2,e.jY,e.Gu,e.gu,e.pK,e.Ie,e.Q$,e.Nd,e.sr,e.wd,e.j9,e.YI,c.rH]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[c.Bz.forChild(Z),c.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[d.ez,t.u5,t.UX,e.Pc,h]}),n})()}}]);