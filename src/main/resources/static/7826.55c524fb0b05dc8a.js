"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7826],{7826:(h,c,a)=>{a.r(c),a.d(c,{RegisterPageModule:()=>y});var d=a(6895),t=a(4719),o=a(7479),u=a(7941),m=a(5861),e=a(6738);const p=function(){return["/login"]},f=[{path:"",component:(()=>{class r{constructor(n,i,l){this.formBuilder=n,this.alertController=i,this.navController=l,this.formularioRegistro=this.formBuilder.group({username:new t.NI("",t.kI.required),email:new t.NI("",t.kI.required),password:new t.NI("",t.kI.required),confirmacionPassword:new t.NI("",t.kI.required)})}ngOnInit(){}guardar(){var n=this;return(0,m.Z)(function*(){var i=n.formularioRegistro.value;if(n.formularioRegistro.invalid)yield(yield n.alertController.create({header:"Datos incompletos",message:"Tienes que llenar todos los campos",buttons:["Aceptar"]})).present();else{var l={username:i.username,email:i.email,password:i.password,confirmacionPassword:i.confirmacionPassword},w={username:i.username,email:i.email,password:i.password};if(l.password===l.confirmacionPassword)return(yield fetch("http://localhost:8888/api/register",{method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}})).ok?(console.log("ok"),localStorage.setItem("ingresado","true"),void n.navController.navigateRoot("home")):(console.log("No ok"),void(yield(yield n.alertController.create({header:"Datos invalidos",message:"Ya existe una cuenta con ese nombre de usuario o email",buttons:["Aceptar"]})).present()));yield(yield n.alertController.create({header:"Datos invalidos",message:"Las contrase\xf1as no coinciden",buttons:["Aceptar"]})).present()}})()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(t.qu),e.Y36(o.Br),e.Y36(o.SH))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:58,vars:3,consts:[["color","primary"],["color","light","slot","start","name","cart-outline",1,"xx-large"],["color","light",1,"large"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-lg","4"],["color","grey"],[3,"formGroup","keyup.enter"],["size","auto",1,"xx-large"],[1,"xx-large"],["fill","outline"],["position","floating"],["formControlName","username","type","text"],["formControlName","email","type","email"],["formControlName","password","type","password"],["formControlName","confirmacionPassword","type","password"],["expand","block",3,"click"],["name","document-text-outline","slot","start"],[1,"horizontalLine"],[1,"ion-justify-content-center","ion-text-center"],["size","auto"],["color","primary",1,"pointer",3,"routerLink"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title")(3,"ion-breadcrumb"),e._UZ(4,"ion-icon",1),e.TgZ(5,"ion-label",2),e._uU(6,"Punto de Venta"),e.qZA()()()()(),e.TgZ(7,"ion-content")(8,"ion-grid")(9,"ion-row",3)(10,"ion-col",4)(11,"ion-card",5)(12,"form",6),e.NdJ("keyup.enter",function(){return i.guardar()}),e.TgZ(13,"ion-card-header")(14,"ion-row",3)(15,"ion-col",7)(16,"ion-card-title",8),e._uU(17,"Registrarse"),e.qZA()()()(),e.TgZ(18,"ion-card-content")(19,"ion-row")(20,"ion-col")(21,"ion-item",9)(22,"ion-label",10),e._uU(23,"Nombre de usuario"),e.qZA(),e._UZ(24,"ion-input",11),e.qZA()()(),e.TgZ(25,"ion-row")(26,"ion-col")(27,"ion-item",9)(28,"ion-label",10),e._uU(29,"Email"),e.qZA(),e._UZ(30,"ion-input",12),e.qZA()()(),e.TgZ(31,"ion-row")(32,"ion-col")(33,"ion-item",9)(34,"ion-label",10),e._uU(35,"Contrase\xf1a"),e.qZA(),e._UZ(36,"ion-input",13),e.qZA()()(),e.TgZ(37,"ion-row")(38,"ion-col")(39,"ion-item",9)(40,"ion-label",10),e._uU(41,"Repetir contrase\xf1a"),e.qZA(),e._UZ(42,"ion-input",14),e.qZA()()(),e.TgZ(43,"ion-row"),e._UZ(44,"ion-col"),e.qZA(),e.TgZ(45,"ion-row")(46,"ion-col")(47,"ion-button",15),e.NdJ("click",function(){return i.guardar()}),e._UZ(48,"ion-icon",16),e._uU(49,"Registrarse"),e.qZA()()(),e.TgZ(50,"ion-row")(51,"ion-col"),e._UZ(52,"hr")(53,"div",17),e.qZA()(),e.TgZ(54,"ion-row",18)(55,"ion-col",19)(56,"ion-label",20),e._uU(57,"\xbfYa tienes una cuenta?"),e.qZA()()()()()()()()()()),2&n&&(e.xp6(12),e.Q6J("formGroup",i.formularioRegistro),e.xp6(44),e.Q6J("routerLink",e.DdM(2,p)))},dependencies:[t._Y,t.JJ,t.JL,t.sg,t.u,o.fn,o.YG,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.Nd,o.sr,o.wd,o.j9,o.YI,u.rH]}),r})()}];let Z=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.Bz.forChild(f),u.Bz]}),r})(),y=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,t.u5,t.UX,o.Pc,Z]}),r})()}}]);